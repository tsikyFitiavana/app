{"ast":null,"code":"import _classCallCheck from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bruno/mon-aplie/app/src/Vue/Upload/Upload.js\";\n// import React, { Component } from 'react';\n// import Dropzone from 'react-dropzone'\n// class Upload extends Component {\n//   onDrop = (acceptedFiles) => {\n//     console.log(acceptedFiles);\n//   }\n//   render() {\n//     return (\n//       <div className=\"text-center mt-5\">\n//         <Dropzone\n//   onDrop={this.onDrop}\n//   accept=\"image/png, image/gif\"\n// >\n// {({getRootProps, getInputProps, isDragActive, isDragReject}) => (\n//     <div {...getRootProps()}>\n//       <input {...getInputProps()} />\n//       {!isDragActive && 'Click here or drop a file to upload!'}\n//       {isDragActive && !isDragReject && \"Drop it like it's hot!\"}\n//       {isDragReject && \"File type not accepted, sorry!\"}\n//     </div>\n//   )}\n// </Dropzone>\n//       </div>\n//     );\n//   }\n// }\n// export default Upload;\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\nvar CLOUDINARY_UPLOAD_PRESET = 'kfdmeeii';\nvar CLOUDINARY_UPLOAD_URL = 'https://res.cloudinary.com/tsikyfitiavana/image/upload/';\n\nvar Upload =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Upload, _React$Component);\n\n  function Upload(props) {\n    var _this;\n\n    _classCallCheck(this, Upload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Upload).call(this, props));\n    _this.state = {\n      uploadedFileCloudinaryUrl: ''\n    };\n    return _this;\n  }\n\n  _createClass(Upload, [{\n    key: \"onImageDrop\",\n    value: function onImageDrop(files) {\n      this.setState({\n        uploadedFile: files[0]\n      });\n      this.handleImageUpload(files[0]);\n    }\n  }, {\n    key: \"handleImageUpload\",\n    value: function handleImageUpload(file) {\n      var _this2 = this;\n\n      var upload = request.post(CLOUDINARY_UPLOAD_URL).field('upload_preset', CLOUDINARY_UPLOAD_PRESET).field('file', file);\n      upload.end(function (err, response) {\n        if (err) {\n          console.error(err);\n        }\n\n        if (response.body.secure_url !== '') {\n          _this2.setState({\n            uploadedFileCloudinaryUrl: response.body.secure_url\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Dropzone, {\n        onDrop: this.onImageDrop.bind(this),\n        accept: \"image/*\",\n        multiple: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, function (_ref) {\n        var getRootProps = _ref.getRootProps,\n            getInputProps = _ref.getInputProps;\n        return React.createElement(\"div\", Object.assign({}, getRootProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        })), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Try dropping some files here, or click to select files to upload.\"));\n      });\n    }\n  }]);\n\n  return Upload;\n}(React.Component);\n\nexport { Upload as default };","map":{"version":3,"sources":["/home/bruno/mon-aplie/app/src/Vue/Upload/Upload.js"],"names":["React","Dropzone","request","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_UPLOAD_URL","Upload","props","state","uploadedFileCloudinaryUrl","files","setState","uploadedFile","handleImageUpload","file","upload","post","field","end","err","response","console","error","body","secure_url","onImageDrop","bind","getRootProps","getInputProps","Component"],"mappings":";;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,YAApB;AAEA,IAAMC,wBAAwB,GAAG,UAAjC;AACA,IAAMC,qBAAqB,GAAG,yDAA9B;;IAGqBC,M;;;;;AACjB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,gFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,yBAAyB,EAAE;AADhB,KAAb;AAHe;AAMhB;;;;gCACOC,K,EAAO;AACjB,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,KAAK,CAAC,CAAD;AADP,OAAd;AAIA,WAAKG,iBAAL,CAAuBH,KAAK,CAAC,CAAD,CAA5B;AACD;;;sCACiBI,I,EAAM;AAAA;;AACtB,UAAIC,MAAM,GAAGZ,OAAO,CAACa,IAAR,CAAaX,qBAAb,EACQY,KADR,CACc,eADd,EAC+Bb,wBAD/B,EAEQa,KAFR,CAEc,MAFd,EAEsBH,IAFtB,CAAb;AAIAC,MAAAA,MAAM,CAACG,GAAP,CAAW,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC5B,YAAID,GAAJ,EAAS;AACPE,UAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACD;;AAED,YAAIC,QAAQ,CAACG,IAAT,CAAcC,UAAd,KAA6B,EAAjC,EAAqC;AACnC,UAAA,MAAI,CAACb,QAAL,CAAc;AACZF,YAAAA,yBAAyB,EAAEW,QAAQ,CAACG,IAAT,CAAcC;AAD7B,WAAd;AAGD;AACF,OAVD;AAWD;;;6BAEU;AACL,aACI,oBAAC,QAAD;AACJ,QAAA,MAAM,EAAE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CADJ;AAEJ,QAAA,MAAM,EAAC,SAFH;AAGJ,QAAA,QAAQ,EAAE,KAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAID,gBAAmC;AAAA,YAAjCC,YAAiC,QAAjCA,YAAiC;AAAA,YAAnBC,aAAmB,QAAnBA,aAAmB;AAClC,eACE,6CACMD,YAAY,EADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAGE,+CAAWC,aAAa,EAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+EALF,CADF;AAUH,OAfG,CADJ;AAmBH;;;;EArD+B3B,KAAK,CAAC4B,S;;SAArBvB,M","sourcesContent":["// import React, { Component } from 'react';\n// import Dropzone from 'react-dropzone'\n\n// class Upload extends Component {\n\n//   onDrop = (acceptedFiles) => {\n//     console.log(acceptedFiles);\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"text-center mt-5\">\n//         <Dropzone\n//   onDrop={this.onDrop}\n//   accept=\"image/png, image/gif\"\n// >\n// {({getRootProps, getInputProps, isDragActive, isDragReject}) => (\n//     <div {...getRootProps()}>\n//       <input {...getInputProps()} />\n//       {!isDragActive && 'Click here or drop a file to upload!'}\n//       {isDragActive && !isDragReject && \"Drop it like it's hot!\"}\n//       {isDragReject && \"File type not accepted, sorry!\"}\n//     </div>\n//   )}\n// </Dropzone>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Upload;\n\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\nimport request from 'superagent';\n\nconst CLOUDINARY_UPLOAD_PRESET = 'kfdmeeii';\nconst CLOUDINARY_UPLOAD_URL = 'https://res.cloudinary.com/tsikyfitiavana/image/upload/';\n\n\nexport default class Upload extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          uploadedFileCloudinaryUrl: ''\n        };\n      }\n  onImageDrop(files) {\n    this.setState({\n      uploadedFile: files[0]\n    });\n\n    this.handleImageUpload(files[0]);\n  }\n  handleImageUpload(file) {\n    let upload = request.post(CLOUDINARY_UPLOAD_URL)\n                        .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n                        .field('file', file);\n\n    upload.end((err, response) => {\n      if (err) {\n        console.error(err);\n      }\n\n      if (response.body.secure_url !== '') {\n        this.setState({\n          uploadedFileCloudinaryUrl: response.body.secure_url\n        });\n      }\n    });\n  }\n\n    render() {\n        return(\n            <Dropzone\n        onDrop={this.onImageDrop.bind(this)}\n        accept=\"image/*\"\n        multiple={false}>\n          {({getRootProps, getInputProps}) => {\n            return (\n              <div\n                {...getRootProps()}\n              >\n                <input {...getInputProps()} />\n                {\n                <p>Try dropping some files here, or click to select files to upload.</p>\n                }\n              </div>\n            )\n        }}\n      </Dropzone>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}