{"ast":null,"code":"import _classCallCheck from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bruno/mon-aplie/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/bruno/mon-aplie/app/src/Vue/Upload/Upload.js\";\n// import React, { Component } from 'react';\n// import Dropzone from 'react-dropzone'\n// class Upload extends Component {\n//   onDrop = (acceptedFiles) => {\n//     console.log(acceptedFiles);\n//   }\n//   render() {\n//     return (\n//       <div className=\"text-center mt-5\">\n//         <Dropzone\n//   onDrop={this.onDrop}\n//   accept=\"image/png, image/gif\"\n// >\n// {({getRootProps, getInputProps, isDragActive, isDragReject}) => (\n//     <div {...getRootProps()}>\n//       <input {...getInputProps()} />\n//       {!isDragActive && 'Click here or drop a file to upload!'}\n//       {isDragActive && !isDragReject && \"Drop it like it's hot!\"}\n//       {isDragReject && \"File type not accepted, sorry!\"}\n//     </div>\n//   )}\n// </Dropzone>\n//       </div>\n//     );\n//   }\n// }\n// export default Upload;\nimport React from 'react';\nimport Dropzone from 'react-dropzone'; //import request from 'superagent';\n\nvar CLOUDINARY_UPLOAD_PRESET = 'y7ubntih';\nvar CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/bfcobz74/upload';\n\nvar ContactForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContactForm, _React$Component);\n\n  function ContactForm(props) {\n    var _this;\n\n    _classCallCheck(this, ContactForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ContactForm).call(this, props));\n    _this.state = {\n      uploadedFileCloudinaryUrl: ''\n    };\n    return _this;\n  }\n\n  _createClass(ContactForm, [{\n    key: \"onImageDrop\",\n    value: function onImageDrop(files) {\n      this.setState({\n        uploadedFile: files[0]\n      });\n      this.handleImageUpload(files[0]);\n    }\n  }, {\n    key: \"handleImageUpload\",\n    value: function handleImageUpload(file) {\n      var _this2 = this;\n\n      var upload = request.post(CLOUDINARY_UPLOAD_URL).field('upload_preset', CLOUDINARY_UPLOAD_PRESET).field('file', file);\n      upload.end(function (err, response) {\n        if (err) {\n          console.error(err);\n        }\n\n        if (response.body.secure_url !== '') {\n          _this2.setState({\n            uploadedFileCloudinaryUrl: response.body.secure_url\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Dropzone, {\n        multiple: false,\n        accept: \"image/*\",\n        onDrop: this.onImageDrop.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Drop an image or click to select a file to upload.\"));\n    }\n  }]);\n\n  return ContactForm;\n}(React.Component);\n\nexport default ContactForm;","map":{"version":3,"sources":["/home/bruno/mon-aplie/app/src/Vue/Upload/Upload.js"],"names":["React","Dropzone","CLOUDINARY_UPLOAD_PRESET","CLOUDINARY_UPLOAD_URL","ContactForm","props","state","uploadedFileCloudinaryUrl","files","setState","uploadedFile","handleImageUpload","file","upload","request","post","field","end","err","response","console","error","body","secure_url","onImageDrop","bind","Component"],"mappings":";;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB,C,CACA;;AACA,IAAMC,wBAAwB,GAAG,UAAjC;AACA,IAAMC,qBAAqB,GAAG,iDAA9B;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,yBAAyB,EAAE;AADhB,KAAb;AAHe;AAMlB;;;;gCACWC,K,EAAO;AACf,WAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,KAAK,CAAC,CAAD;AADP,OAAd;AAIA,WAAKG,iBAAL,CAAuBH,KAAK,CAAC,CAAD,CAA5B;AACD;;;sCACiBI,I,EAAM;AAAA;;AACtB,UAAIC,MAAM,GAAGC,OAAO,CAACC,IAAR,CAAaZ,qBAAb,EACQa,KADR,CACc,eADd,EAC+Bd,wBAD/B,EAEQc,KAFR,CAEc,MAFd,EAEsBJ,IAFtB,CAAb;AAIAC,MAAAA,MAAM,CAACI,GAAP,CAAW,UAACC,GAAD,EAAMC,QAAN,EAAmB;AAC5B,YAAID,GAAJ,EAAS;AACPE,UAAAA,OAAO,CAACC,KAAR,CAAcH,GAAd;AACD;;AAED,YAAIC,QAAQ,CAACG,IAAT,CAAcC,UAAd,KAA6B,EAAjC,EAAqC;AACnC,UAAA,MAAI,CAACd,QAAL,CAAc;AACZF,YAAAA,yBAAyB,EAAEY,QAAQ,CAACG,IAAT,CAAcC;AAD7B,WAAd;AAGD;AACF,OAVD;AAWD;;;6BACM;AACL,aACA,oBAAC,QAAD;AACA,QAAA,QAAQ,EAAE,KADV;AAEA,QAAA,MAAM,EAAC,SAFP;AAGA,QAAA,MAAM,EAAE,KAAKC,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DAJA,CADA;AASH;;;;EA1CqBzB,KAAK,CAAC0B,S;;AA4ChC,eAAetB,WAAf","sourcesContent":["// import React, { Component } from 'react';\n// import Dropzone from 'react-dropzone'\n\n// class Upload extends Component {\n\n//   onDrop = (acceptedFiles) => {\n//     console.log(acceptedFiles);\n//   }\n\n//   render() {\n//     return (\n//       <div className=\"text-center mt-5\">\n//         <Dropzone\n//   onDrop={this.onDrop}\n//   accept=\"image/png, image/gif\"\n// >\n// {({getRootProps, getInputProps, isDragActive, isDragReject}) => (\n//     <div {...getRootProps()}>\n//       <input {...getInputProps()} />\n//       {!isDragActive && 'Click here or drop a file to upload!'}\n//       {isDragActive && !isDragReject && \"Drop it like it's hot!\"}\n//       {isDragReject && \"File type not accepted, sorry!\"}\n//     </div>\n//   )}\n// </Dropzone>\n//       </div>\n//     );\n//   }\n// }\n\n// export default Upload;\n\nimport React from 'react';\nimport Dropzone from 'react-dropzone';\n//import request from 'superagent';\nconst CLOUDINARY_UPLOAD_PRESET = 'y7ubntih';\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/bfcobz74/upload';\n\nclass ContactForm extends React.Component {\n    constructor(props) {\n        super(props);\n    \n        this.state = {\n          uploadedFileCloudinaryUrl: ''\n        }\n    }\n    onImageDrop(files) {\n        this.setState({\n          uploadedFile: files[0]\n        });\n    \n        this.handleImageUpload(files[0]);\n      } \n      handleImageUpload(file) {\n        let upload = request.post(CLOUDINARY_UPLOAD_URL)\n                            .field('upload_preset', CLOUDINARY_UPLOAD_PRESET)\n                            .field('file', file);\n    \n        upload.end((err, response) => {\n          if (err) {\n            console.error(err);\n          }\n    \n          if (response.body.secure_url !== '') {\n            this.setState({\n              uploadedFileCloudinaryUrl: response.body.secure_url\n            });\n          }\n        });\n      }\n    render() {\n        return(\n        <Dropzone\n        multiple={false}\n        accept=\"image/*\"\n        onDrop={this.onImageDrop.bind(this)}>\n        <p>Drop an image or click to select a file to upload.</p>\n      </Dropzone>\n    )\n      \n    }\n}\nexport default ContactForm"]},"metadata":{},"sourceType":"module"}